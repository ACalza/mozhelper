. $topsrcdir/browser/config/mozconfig
mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/../builds/obj-ff-dbg
mk_add_options MOZ_MAKE_FLAGS="-w -s -j8"
mk_add_options AUTOCONF=autoconf213
#ac_add_options --disable-tests
ac_add_options --disable-debug
ac_add_options --disable-optimize
#Don't do this, see: https://developer.mozilla.org/en/Building_Firefox_with_Debug_Symbols
#ac_add_options --enable-optimize
export MOZ_DEBUG_SYMBOLS=1
ac_add_options --enable-debug-symbols="-gdwarf-2"
ac_add_options --disable-install-strip
ac_add_options --disable-crashreporter

# Compile 32-bit
CC="gcc -arch i386 -DBENWA"
CXX="g++ -arch i386 -DBENWA"
export CFLAGS="-gdwarf-2"
export CXXFLAGS="-gdwarf-2"

ac_add_options --target=i386-apple-darwin9.2.0
ac_add_options --enable-macos-target=10.5
# bug 491774. crashreporter won't build in cross compile
ac_add_options --disable-crashreporter

HOST_CC="gcc -DDEBUG_COREANIMATION"
HOST_CXX="g++ -DDEBUG_COREANIMATION"
RANLIB=ranlib
AR=ar
AS=$CC
LD=ld
STRIP="strip -x -S"
CROSS_COMPILE=1
